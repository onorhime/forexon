{% extends 'base.html.twig' %}


{% block main %}
     <div class="container-fluid mb-5">
                <!-- Title -->
    <h1 class="h2">
        Refer users to Online Trade community
    </h1>
    <div wire:id="AWtxNyKSZ1NzwvZmhqEH" wire:initial-data="{&quot;fingerprint&quot;:{&quot;id&quot;:&quot;AWtxNyKSZ1NzwvZmhqEH&quot;,&quot;name&quot;:&quot;user.referral-system&quot;,&quot;locale&quot;:&quot;en&quot;,&quot;path&quot;:&quot;dashboard\/referuser&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;v&quot;:&quot;acj&quot;},&quot;effects&quot;:{&quot;listeners&quot;:[],&quot;path&quot;:&quot;https:\/\/mam.getonlinetrader.pro\/protodash\/dashboard\/referuser&quot;},&quot;serverMemo&quot;:{&quot;children&quot;:[],&quot;errors&quot;:[],&quot;htmlHash&quot;:&quot;c6a3c037&quot;,&quot;data&quot;:{&quot;viewRef&quot;:false,&quot;refLevel&quot;:null,&quot;children&quot;:null,&quot;referrals&quot;:null,&quot;totalDeposit&quot;:100,&quot;totalAmountInPlans&quot;:200,&quot;totalProfit&quot;:0,&quot;user&quot;:null,&quot;commision&quot;:10,&quot;level&quot;:&quot;Direct level&quot;,&quot;downlinesIds&quot;:null,&quot;directIDs&quot;:[175],&quot;level1IDs&quot;:[176],&quot;level2IDs&quot;:[],&quot;level3IDs&quot;:[],&quot;level4IDs&quot;:[],&quot;level5IDs&quot;:[],&quot;page&quot;:1,&quot;paginators&quot;:{&quot;page&quot;:1}},&quot;dataMeta&quot;:[],&quot;checksum&quot;:&quot;4248f5593aa7769c3ec908233d694843cb94e1db64627b00c5cb551c38fae788&quot;}}">
    <div>
    </div>
    <div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <div class="row" x-data="{
                        copied: false,
                        url: 'https://forexon.net/app-register.html?ref={{app.user.id}}',
                        username: 'testtim1',
                        copyToClipboard(text) {
                            if (!navigator.clipboard) {
                                return alert('Copying to clipboard only works on secure sites viewed through a modern browser.')
                            }
                            navigator.clipboard.writeText(text)
                                .then(() => {
                                    var toastOptions = {
                                        'closeButton': false,
                                        'debug': false,
                                        'newestOnTop': false,
                                        'progressBar': false,
                                        'positionClass': 'toast-top-right',
                                        'preventDuplicates': false,
                                        'onclick': null,
                                        'showDuration': '300',
                                        'hideDuration': '1000',
                                        'timeOut': '5000',
                                        'extendedTimeOut': '1000',
                                        'showEasing': 'swing',
                                        'hideEasing': 'linear',
                                        'showMethod': 'fadeIn',
                                        'hideMethod': 'fadeOut'
                                    };
                                    Command: toastr['success']('Copied to clipboard', 'Success')
                                    toastr.options = toastOptions;
                                })
                        },
                    }">
                        <div class="col-md-8 offset-md-2 text-center">
                            <h4>You can refer users by sharing your referral link:</h4>

                            <div class="d-flex mt-2">
                                <input class="form-control me-3 fs-4" id="reflink" value="https://forexon.net/app-register.html?ref={{app.user.id}}"
                                    readonly>
                                <div>
                                    <span x-show="copied" style="display: none" x-transition.scale.origin.right.opacity
                                        class="pr-2 text-sm">Copied!</span>
                                    <!-- Button -->
                                    <button class="clipboard btn btn-link px-0" data-clipboard-target="#key-02"
                                        data-bs-toggle="tooltip" data-bs-title="Copy to clipboard"
                                        x-on:click="copyToClipboard(url)">
                                        <i class="bi bi-clipboard fs-3"></i>
                                    </button>

                                </div>
                            </div>

                            <div>
                                <h4 class="mt-3 mb-0">or your Referral ID</h4>
                                <h4 class="text-primary h2 d-inline"> {{app.user.fullname}}</h4>
                                
                                <!-- Button -->
                                <button class="clipboard btn btn-link px-0" data-clipboard-target="#key-02"
                                    data-bs-toggle="tooltip" data-bs-title="Copy to clipboard"
                                    x-on:click="copyToClipboard(username)">
                                    <i class="bi bi-clipboard fs-3"></i>
                                </button>
                            </div>

                                                    </div>
                            {# <div class="col-12 my-4">
                                <div>
                                    <ul class="nav nav-pills nav-fill">
                                        <li class="nav-item border rounded m-1">
                                            <a class="nav-link active" aria-current="page" href="#"
                                                wire:click.prevent="changeLevel('Direct level')">Direct level</a>
                                        </li>
                                        <li class="nav-item border rounded m-1">
                                            <a class="nav-link" href="#"
                                                wire:click.prevent="changeLevel('Level 1')">Level
                                                1</a>
                                        </li>
                                        <li class="nav-item border rounded m-1">
                                            <a class="nav-link" href="#"
                                                wire:click.prevent="changeLevel('Level 2')">Level
                                                2</a>
                                        </li>
                                        <li class="nav-item border rounded m-1">
                                            <a class="nav-link" href="#"
                                                wire:click.prevent="changeLevel('Level 3')">Level
                                                3</a>
                                        </li>
                                        <li class="nav-item border rounded m-1">
                                            <a class="nav-link" href="#"
                                                wire:click.prevent="changeLevel('Level 4')">Level
                                                4</a>
                                        </li>
                                        <li class="nav-item border rounded m-1">
                                            <a class="nav-link" href="#"
                                                wire:click.prevent="changeLevel('Level 5')">Level
                                                5</a>
                                        </li>
                                    </ul>
                                </div>
                            </div> #}

                            <div class="col-12">
                                <h5>Direct level referrals</h5>
                                {# <div class="row mb-3">
                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6 class="m-0 h5">Total Deposit</h6>
                                                <h3 class="m-0">
                                                    $100.00
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6 class="m-0 h5">Total Amount invested</h6>
                                                <h3 class="m-0">
                                                    $200.00
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6 class="m-0 h5">Profit made by Referrals</h6>
                                                <h3 class="m-0">
                                                    $0.00
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6 class="m-0 h5">You have Earned</h6>
                                                <h3 class="m-0">
                                                                                                        $10.00
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                </div> #}
                                <div class="table-responsive">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>Client name</th>
                                                    <th>Ref. level</th>
                                                    <th>Total Deposit</th>
                                                
                                                    <th>Profit Made</th>
                                                    <th> Parent </th>
                                                    <th>Client status</th>
                                                    <th>Date registered</th>
                                                    
                                                </tr>
                                            </thead>
                                            <tbody>
                                                     {% for user in app.user.ref %}
                                                         <tr>
                                                        <td>{{user.fullname}}</td>
                                                        <td>Direct level</td>
                                                        <td>
                                                            ${{ user.totaldeposit|number_format('2', '.', ',') }}
                                                        </td>
                                                        <td>
                                                            ${{ user.profit|number_format('2', '.', ',') }}
                                                        </td>
                                                       
                                                        <td>You</td>
                                                        <td>
                                                                <span class="badge bg-success">Active</span>
                                                        </td>
                                                        <td>{{ user.date|date('y - m - d') }}</td>
                                                        
                                                    </tr>
                                                     {% endfor %} 
                                            </tbody>
                                        </table>
                                    </div>
                                    <div>
                                </div>

                                
                            </div>
                        </div>
                </div>
            </div>
        </div>
    {% endblock %}